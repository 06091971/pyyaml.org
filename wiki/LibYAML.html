<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title></title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">


html {
line-height: 1.15; 
-ms-text-size-adjust: 100%; 
-webkit-text-size-adjust: 100%; 
}


body {
margin: 0;
}

article,
aside,
footer,
header,
nav,
section {
display: block;
}

h1 {
font-size: 2em;
margin: 0.67em 0;
}


figcaption,
figure,
main { 
display: block;
}

figure {
margin: 1em 40px;
}

hr {
box-sizing: content-box; 
height: 0; 
overflow: visible; 
}

pre {
font-family: monospace, monospace; 
font-size: 1em; 
}


a {
background-color: transparent; 
-webkit-text-decoration-skip: objects; 
}

abbr[title] {
border-bottom: none; 
text-decoration: underline; 
text-decoration: underline dotted; 
}

b,
strong {
font-weight: inherit;
}

b,
strong {
font-weight: bolder;
}

code,
kbd,
samp {
font-family: monospace, monospace; 
font-size: 1em; 
}

dfn {
font-style: italic;
}

mark {
background-color: #ff0;
color: #000;
}

small {
font-size: 80%;
}

sub,
sup {
font-size: 75%;
line-height: 0;
position: relative;
vertical-align: baseline;
}
sub {
bottom: -0.25em;
}
sup {
top: -0.5em;
}


audio,
video {
display: inline-block;
}

audio:not([controls]) {
display: none;
height: 0;
}

img {
border-style: none;
}

svg:not(:root) {
overflow: hidden;
}


button,
input,
optgroup,
select,
textarea {
font-family: sans-serif; 
font-size: 100%; 
line-height: 1.15; 
margin: 0; 
}

button,
input { 
overflow: visible;
}

button,
select { 
text-transform: none;
}

button,
html [type="button"], 
[type="reset"],
[type="submit"] {
-webkit-appearance: button; 
}

button::-moz-focus-inner,
[type="button"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner {
border-style: none;
padding: 0;
}

button:-moz-focusring,
[type="button"]:-moz-focusring,
[type="reset"]:-moz-focusring,
[type="submit"]:-moz-focusring {
outline: 1px dotted ButtonText;
}

fieldset {
padding: 0.35em 0.75em 0.625em;
}

legend {
box-sizing: border-box; 
color: inherit; 
display: table; 
max-width: 100%; 
padding: 0; 
white-space: normal; 
}

progress {
display: inline-block; 
vertical-align: baseline; 
}

textarea {
overflow: auto;
}

[type="checkbox"],
[type="radio"] {
box-sizing: border-box; 
padding: 0; 
}

[type="number"]::-webkit-inner-spin-button,
[type="number"]::-webkit-outer-spin-button {
height: auto;
}

[type="search"] {
-webkit-appearance: textfield; 
outline-offset: -2px; 
}

[type="search"]::-webkit-search-cancel-button,
[type="search"]::-webkit-search-decoration {
-webkit-appearance: none;
}

::-webkit-file-upload-button {
-webkit-appearance: button; 
font: inherit; 
}


details, 
menu {
display: block;
}

summary {
display: list-item;
}


canvas {
display: inline-block;
}

template {
display: none;
}


[hidden] {
display: none;
}
</style>
  <style type="text/css">body {
margin: auto;
padding: 1em;
max-width: 44em; }
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="libyaml">LibYAML</h1>
<p><em>LibYAML is now maintained at <a href="https://github.com/yaml/libyaml" class="uri">https://github.com/yaml/libyaml</a>. This page is left for historical purposes.</em></p>
<h2 id="download-and-installation">Download and Installation</h2>
<p>The current release of LibYAML: <em>0.1.7 (2016-08-28)</em>.</p>
<p>Download the source package: <a href="http://pyyaml.org/download/libyaml/yaml-0.1.7.tar.gz" class="uri">http://pyyaml.org/download/libyaml/yaml-0.1.7.tar.gz</a>.</p>
<p>To build and install LibYAML, run</p>
<pre><code>$ ./configure
$ make
# make install</code></pre>
<p>You may check out the latest development code of LibYAML from the Mercurial repository <a href="https://bitbucket.org/xi/libyaml" class="uri">https://bitbucket.org/xi/libyaml</a>:</p>
<pre><code>$ hg clone https://bitbucket.org/xi/libyaml</code></pre>
<p>If you checked out the LibYAML source code from the Mercurial repository, you can build LibYAML with the commands:</p>
<pre><code>$ ./bootstrap
$ ./configure
$ make
# make install</code></pre>
<h2 id="development-and-bug-reports">Development and bug reports</h2>
<p>You may check out the LibYAML source code from <a href="https://bitbucket.org/xi/libyaml">LibYAML HG repository</a>.</p>
<p>If you find a bug in LibYAML, please <a href="https://bitbucket.org/xi/libyaml/issues/new">file a bug report</a>. You may review open bugs through <a href="https://bitbucket.org/xi/libyaml/issues?status=new&amp;status=open">the list of open tickets</a>.</p>
<p>You may discuss LibYAML at <a href="http://lists.sourceforge.net/lists/listinfo/yaml-core">the YAML-core mailing list</a>.</p>
<h2 id="documentation">Documentation</h2>
<h3 id="scope">Scope</h3>
<p>LibYAML covers <em>presenting</em> and <em>parsing</em> <a href="http://yaml.org/spec/1.1/#id859458">processes</a>. Thus LibYAML defines the following two processors:</p>
<ul>
<li><em>Parser</em>, which takes an input stream of bytes and produces a sequence of parsing events.</li>
<li><em>Emitter</em>, which takes a sequence of events and produces a stream of bytes.</li>
</ul>
<p>The processes of parsing and presenting are inverse to each other. Any sequence of events produced by parsing a well-formed YAML document should be acceptable by the Emitter, which should produce an equivalent document. Similarly, any document produced by emitting a sequence of events should be acceptable for the Parser, which should produce an equivalent sequence of events.</p>
<p>The job of <em>resolving</em> implicit tags, <em>composing</em> and <em>serializing</em> representation trees, as well as <em>constructing</em> and <em>representing</em> native objects is left to applications and bindings. Although some of these processes may be covered in the latter releases, they are not in the scope of the initial release of LibYAML.</p>
<h3 id="events">Events</h3>
<h4 id="event-types">Event Types</h4>
<p>The Parser produces while the Emitter accepts the following types of events:</p>
<ul>
<li><code>STREAM-START</code></li>
<li><code>STREAM-END</code></li>
<li><code>DOCUMENT-START</code></li>
<li><code>DOCUMENT-END</code></li>
<li><code>ALIAS</code></li>
<li><code>SCALAR</code></li>
<li><code>SEQUENCE-START</code></li>
<li><code>SEQUENCE-END</code></li>
<li><code>MAPPING-START</code></li>
<li><code>MAPPING-END</code></li>
</ul>
<p>A valid sequence of events should obey the grammar:</p>
<pre><code>stream ::= STREAM-START document* STREAM-END
document ::= DOCUMENT-START node DOCUMENT-END
node ::= ALIAS | SCALAR | sequence | mapping
sequence ::= SEQUENCE-START node* SEQUENCE-END
mapping ::= MAPPING-START (node node)* MAPPING-END</code></pre>
<h4 id="essential-event-attributes">Essential Event Attributes</h4>
<p>The following attributes affect the intepretation of a YAML document.</p>
<ul>
<li><code>ALIAS</code>
<ul>
<li><code>anchor</code> - the alias anchor; <code>[0-9a-zA-Z_-]+</code>; not <code>NULL</code>.</li>
</ul></li>
<li><code>SCALAR</code>
<ul>
<li><code>anchor</code> - the node anchor; <code>[0-9a-zA-Z_-]+</code>; may be <code>NULL</code>.</li>
<li><code>tag</code> - the node tag; should either start with <code>!</code> (local tag) or be a valid URL (global tag); may be <code>NULL</code> or <code>!</code> in which case either <code>plain_implicit</code> or <code>quoted_implicit</code> should be <code>True</code>.</li>
<li><code>plain_implicit</code> - <code>True</code> if the node tag may be omitted whenever the scalar value is presented in the plain style.</li>
<li><code>quoted_implicit</code> - <code>True</code> if the node tag may be omitted whenever the scalar value is presented in any non-plain style.</li>
<li><code>value</code> - the scalar value; a valid utf-8 sequence and may contain <code>NUL</code> characters; not <code>NULL</code>.</li>
<li><code>length</code> - the length of the scalar value.</li>
</ul></li>
<li><code>SEQUENCE-START</code>
<ul>
<li><code>anchor</code> - the node anchor; <code>[0-9a-zA-Z_-]+</code>; may be <code>NULL</code>.</li>
<li><code>tag</code> - the node tag; should either start with <code>!</code> (local tag) or be a valid URL (global tag); may be <code>NULL</code> or <code>!</code> in which case <code>implicit</code> should be <code>True</code>.</li>
<li><code>implicit</code> - <code>True</code> if the node tag may be omitted.</li>
</ul></li>
<li><code>MAPPING-START</code>
<ul>
<li><code>anchor</code> - the node anchor; <code>[0-9a-zA-Z_-]+</code>; may be <code>NULL</code>.</li>
<li><code>tag</code> - the node tag; should either start with <code>!</code> (local tag) or be a valid URL (global tag); may be <code>NULL</code> or <code>!</code> in which case <code>implicit</code> should be <code>True</code>.</li>
<li><code>implicit</code> - <code>True</code> if the node tag may be omitted.</li>
</ul></li>
</ul>
<h4 id="stylistic-event-attributes">Stylistic Event Attributes</h4>
<p>The following attributes don’t affect the interpretation of a YAML document. While parsing a YAML document, an application should not consider these attributes for resolving implicit tags and constructing representation graphs or native objects. The Emitter may ignore these attributes if they cannot be satisfied.</p>
<ul>
<li><code>STREAM-START</code>
<ul>
<li><code>encoding</code> - the document encoding; <code>utf-8|utf-16-le|utf-16-be</code>.</li>
</ul></li>
<li><code>DOCUMENT-START</code>
<ul>
<li><code>version_directive</code> - the version specified with the <code>%YAML</code> directive; the only valid value is <code>1.1</code>; may be <code>NULL</code>.</li>
<li><code>tag_directives</code> - a set of tag handles and the corresponding tag prefixes specified with the <code>%TAG</code> directive; tag handles should match <code>!|!!|![0-9a-zA-Z_-]+!</code> while tag prefixes should be prefixes of valid local or global tags; may be empty.</li>
<li><code>implicit</code> - <code>True</code> if the document start indicator <code>---</code> is not present.</li>
</ul></li>
<li><code>DOCUMENT-END</code>
<ul>
<li><code>implicit</code> - <code>True</code> if the document end indicator <code>...</code> is not present.</li>
</ul></li>
<li><code>SCALAR</code>
<ul>
<li><code>style</code> - the value style; <code>plain|single-quoted|double-quoted|literal|folded</code>.</li>
</ul></li>
<li><code>SEQUENCE-START</code>
<ul>
<li><code>style</code> - the sequence style; <code>block|flow</code>.</li>
</ul></li>
<li><code>MAPPING-START</code>
<ul>
<li><code>style</code> - the mapping style; <code>block|flow</code>.</li>
</ul></li>
<li><em>any event</em>
<ul>
<li><code>start_mark</code> - the position of the event beginning; attributes: <code>index</code> (in characters), <code>line</code> and <code>column</code> (starting from <code>0</code>).</li>
<li><code>end_mark</code> - the position of the event end; attributes: <code>index</code> (in characters), <code>line</code> and <code>column</code> (starting from <code>0</code>).</li>
</ul></li>
</ul>
<h3 id="api">API</h3>
<p>Note: the API may change drastically. You may also check the header file: <a href="https://bitbucket.org/xi/libyaml/src/tip/include/yaml.h" class="uri">https://bitbucket.org/xi/libyaml/src/tip/include/yaml.h</a></p>
<h4 id="parser-api-synopsis">Parser API Synopsis</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="pp">#include </span><span class="im">&lt;yaml.h&gt;</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">yaml_parser_t parser;</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">yaml_event_t event;</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="dt">int</span> done = <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">/* Create the Parser object. */</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9">yaml_parser_initialize(&amp;parser);</a>
<a class="sourceLine" id="cb5-10" data-line-number="10"></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">/* Set a string input. */</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="dt">char</span> *input = <span class="st">&quot;...&quot;</span>;</a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="dt">size_t</span> length = strlen(input);</a>
<a class="sourceLine" id="cb5-14" data-line-number="14"></a>
<a class="sourceLine" id="cb5-15" data-line-number="15">yaml_parser_set_input_string(&amp;parser, input, length);</a>
<a class="sourceLine" id="cb5-16" data-line-number="16"></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">/* Set a file input. */</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="dt">FILE</span> *input = fopen(<span class="st">&quot;...&quot;</span>, <span class="st">&quot;rb&quot;</span>);</a>
<a class="sourceLine" id="cb5-19" data-line-number="19"></a>
<a class="sourceLine" id="cb5-20" data-line-number="20">yaml_parser_set_input_file(&amp;parser, input);</a>
<a class="sourceLine" id="cb5-21" data-line-number="21"></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">/* Set a generic reader. */</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="dt">void</span> *ext = ...;</a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="dt">int</span> read_handler(<span class="dt">void</span> *ext, <span class="dt">char</span> *buffer, <span class="dt">int</span> size, <span class="dt">int</span> *length) {</a>
<a class="sourceLine" id="cb5-25" data-line-number="25">    <span class="co">/* ... */</span></a>
<a class="sourceLine" id="cb5-26" data-line-number="26">    *buffer = ...;</a>
<a class="sourceLine" id="cb5-27" data-line-number="27">    *length = ...;</a>
<a class="sourceLine" id="cb5-28" data-line-number="28">    <span class="co">/* ... */</span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29">    <span class="cf">return</span> error ? <span class="dv">0</span> : <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb5-30" data-line-number="30">}</a>
<a class="sourceLine" id="cb5-31" data-line-number="31"></a>
<a class="sourceLine" id="cb5-32" data-line-number="32">yaml_parser_set_input(&amp;parser, read_handler, ext);</a>
<a class="sourceLine" id="cb5-33" data-line-number="33"></a>
<a class="sourceLine" id="cb5-34" data-line-number="34"><span class="co">/* Read the event sequence. */</span></a>
<a class="sourceLine" id="cb5-35" data-line-number="35"><span class="cf">while</span> (!done) {</a>
<a class="sourceLine" id="cb5-36" data-line-number="36"></a>
<a class="sourceLine" id="cb5-37" data-line-number="37">    <span class="co">/* Get the next event. */</span></a>
<a class="sourceLine" id="cb5-38" data-line-number="38">    <span class="cf">if</span> (!yaml_parser_parse(&amp;parser, &amp;event))</a>
<a class="sourceLine" id="cb5-39" data-line-number="39">        <span class="cf">goto</span> error;</a>
<a class="sourceLine" id="cb5-40" data-line-number="40"></a>
<a class="sourceLine" id="cb5-41" data-line-number="41">    <span class="co">/*</span></a>
<a class="sourceLine" id="cb5-42" data-line-number="42"><span class="co">      ...</span></a>
<a class="sourceLine" id="cb5-43" data-line-number="43"><span class="co">      Process the event.</span></a>
<a class="sourceLine" id="cb5-44" data-line-number="44"><span class="co">      ...</span></a>
<a class="sourceLine" id="cb5-45" data-line-number="45"><span class="co">    */</span></a>
<a class="sourceLine" id="cb5-46" data-line-number="46"></a>
<a class="sourceLine" id="cb5-47" data-line-number="47">    <span class="co">/* Are we finished? */</span></a>
<a class="sourceLine" id="cb5-48" data-line-number="48">    done = (event.type == YAML_STREAM_END_EVENT);</a>
<a class="sourceLine" id="cb5-49" data-line-number="49"></a>
<a class="sourceLine" id="cb5-50" data-line-number="50">    <span class="co">/* The application is responsible for destroying the event object. */</span></a>
<a class="sourceLine" id="cb5-51" data-line-number="51">    yaml_event_delete(&amp;event);</a>
<a class="sourceLine" id="cb5-52" data-line-number="52"></a>
<a class="sourceLine" id="cb5-53" data-line-number="53">}</a>
<a class="sourceLine" id="cb5-54" data-line-number="54"></a>
<a class="sourceLine" id="cb5-55" data-line-number="55"><span class="co">/* Destroy the Parser object. */</span></a>
<a class="sourceLine" id="cb5-56" data-line-number="56">yaml_parser_delete(&amp;parser);</a>
<a class="sourceLine" id="cb5-57" data-line-number="57"></a>
<a class="sourceLine" id="cb5-58" data-line-number="58"><span class="cf">return</span> <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb5-59" data-line-number="59"></a>
<a class="sourceLine" id="cb5-60" data-line-number="60"><span class="co">/* On error. */</span></a>
<a class="sourceLine" id="cb5-61" data-line-number="61">error:</a>
<a class="sourceLine" id="cb5-62" data-line-number="62"></a>
<a class="sourceLine" id="cb5-63" data-line-number="63"><span class="co">/* Destroy the Parser object. */</span></a>
<a class="sourceLine" id="cb5-64" data-line-number="64">yaml_parser_delete(&amp;parser);</a>
<a class="sourceLine" id="cb5-65" data-line-number="65"></a>
<a class="sourceLine" id="cb5-66" data-line-number="66"><span class="cf">return</span> <span class="dv">0</span>;</a></code></pre></div>
<h4 id="emitter-api-synopsis">Emitter API Synopsis</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="pp">#include </span><span class="im">&lt;yaml.h&gt;</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">yaml_emitter_t emitter;</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">yaml_event_t event;</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">/* Create the Emitter object. */</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">yaml_emitter_initialize(&amp;emitter);</a>
<a class="sourceLine" id="cb6-8" data-line-number="8"></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">/* Set a file output. */</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="dt">FILE</span> *output = fopen(<span class="st">&quot;...&quot;</span>, <span class="st">&quot;wb&quot;</span>);</a>
<a class="sourceLine" id="cb6-11" data-line-number="11"></a>
<a class="sourceLine" id="cb6-12" data-line-number="12">yaml_emitter_set_output_file(&amp;emitter, output);</a>
<a class="sourceLine" id="cb6-13" data-line-number="13"></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">/* Set a generic writer. */</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="dt">void</span> *ext = ...;</a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="dt">int</span> write_handler(<span class="dt">void</span> *ext, <span class="dt">char</span> *buffer, <span class="dt">int</span> size) {</a>
<a class="sourceLine" id="cb6-17" data-line-number="17">    <span class="co">/*</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">       ...</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">       Write `size` bytes.</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">       ...</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">    */</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22">    <span class="cf">return</span> error ? <span class="dv">0</span> : <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb6-23" data-line-number="23">}</a>
<a class="sourceLine" id="cb6-24" data-line-number="24"></a>
<a class="sourceLine" id="cb6-25" data-line-number="25">yaml_emitter_set_output(&amp;emitter, write_handler, ext);</a>
<a class="sourceLine" id="cb6-26" data-line-number="26"></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">/* Create and emit the STREAM-START event. */</span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28">yaml_stream_start_event_initialize(&amp;event, YAML_UTF8_ENCODING);</a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="cf">if</span> (!yaml_emitter_emit(&amp;emitter, &amp;event))</a>
<a class="sourceLine" id="cb6-30" data-line-number="30">    <span class="cf">goto</span> error;</a>
<a class="sourceLine" id="cb6-31" data-line-number="31"></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"><span class="co">/*</span></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="co">  ...</span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34"><span class="co">  Emit more events.</span></a>
<a class="sourceLine" id="cb6-35" data-line-number="35"><span class="co">  ...</span></a>
<a class="sourceLine" id="cb6-36" data-line-number="36"><span class="co">*/</span></a>
<a class="sourceLine" id="cb6-37" data-line-number="37"></a>
<a class="sourceLine" id="cb6-38" data-line-number="38"><span class="co">/* Create and emit the STREAM-</span><span class="re">END</span><span class="co"> event. */</span></a>
<a class="sourceLine" id="cb6-39" data-line-number="39">yaml_stream_end_event_initialize(&amp;event);</a>
<a class="sourceLine" id="cb6-40" data-line-number="40"><span class="cf">if</span> (!yaml_emitter_emit(&amp;emitter, &amp;event))</a>
<a class="sourceLine" id="cb6-41" data-line-number="41">    <span class="cf">goto</span> error;</a>
<a class="sourceLine" id="cb6-42" data-line-number="42"></a>
<a class="sourceLine" id="cb6-43" data-line-number="43"><span class="co">/* Destroy the Emitter object. */</span></a>
<a class="sourceLine" id="cb6-44" data-line-number="44">yaml_emitter_delete(&amp;emitter);</a>
<a class="sourceLine" id="cb6-45" data-line-number="45"></a>
<a class="sourceLine" id="cb6-46" data-line-number="46"><span class="cf">return</span> <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb6-47" data-line-number="47"></a>
<a class="sourceLine" id="cb6-48" data-line-number="48"><span class="co">/* On error. */</span></a>
<a class="sourceLine" id="cb6-49" data-line-number="49">error:</a>
<a class="sourceLine" id="cb6-50" data-line-number="50"></a>
<a class="sourceLine" id="cb6-51" data-line-number="51"><span class="co">/* Destroy the Emitter object. */</span></a>
<a class="sourceLine" id="cb6-52" data-line-number="52">yaml_emitter_delete(emitter);</a>
<a class="sourceLine" id="cb6-53" data-line-number="53"></a>
<a class="sourceLine" id="cb6-54" data-line-number="54"><span class="cf">return</span> <span class="dv">0</span>;</a></code></pre></div>
<h3 id="examples">Examples</h3>
<p>You may check <a href="https://bitbucket.org/xi/libyaml/src/tip/tests/">tests and examples</a> in the source distribution.</p>
<h2 id="copyright">Copyright</h2>
<p>The LibYAML library is written by <a href="mailto:xi@resolvent.net">Kirill Simonov</a>.</p>
<p>LibYAML is released under the MIT license.</p>
<p>This project is developed for <a href="http://www.python.org/psf/">Python Software Foundation</a> as a part of <a href="http://code.google.com/soc/2006/psf/appinfo.html?csaid=75A3CBE3EC4B3DB2">Google Summer of Code</a> under the mentorship of <a href="http://clarkevans.com/">Clark Evans</a>.</p>
</body>
</html>
